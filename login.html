<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inicio de Sesión</title>
<style>
/* Estilos generales */
body {
font-family: 'Arial', sans-serif;
background-color: #ffe6e6;
color: #333;
margin: 0;
padding: 0;
display: flex;
justify-content: center;
align-items: center;
height: 100vh;
}

/* Estilos para formularios de autenticación */
form {
margin: 20px;
padding: 20px;
background-color: #fff;
border-radius: 10px;
box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
width: 300px;
}

form h2 {
margin-bottom: 10px;
text-align: center;
}

form label {
display: block;
margin-bottom: 5px;
}

form input {
width: 100%;
padding: 10px;
margin-bottom: 10px;
border: 1px solid #ccc;
border-radius: 5px;
}

form button {
padding: 10px 20px;
background-color: #ff6666;
color: #fff;
border: none;
border-radius: 5px;
cursor: pointer;
width: 100%;
}

form button:hover {
background-color: #ff3333;
}

button.social-login {
background-color: #4285F4; /* Color de Google */
margin-top: 10px;
}

button.social-login.facebook {
background-color: #3b5998; /* Color de Facebook */
}
</style>
</head>
<body>
<!-- Formulario de Registro -->
<form id="register-form">
<h2>Registro</h2>
<label for="register-email">Correo Electrónico:</label>
<input type="email" id="register-email" required>
<label for="register-password">Contraseña:</label>
<input type="password" id="register-password" required>
<button type="submit">Registrarse</button>
</form>

<!-- Formulario de Login -->
<form id="login-form">
<h2>Iniciar Sesión</h2>
<label for="login-email">Correo Electrónico:</label>
<input type="email" id="login-email" required>
<label for="login-password">Contraseña:</label>
<input type="password" id="login-password" required>
<button type="submit">Iniciar Sesión</button>
</form>

<!-- Botones de Login con Google y Facebook -->
<button id="google-login" class="social-login">Iniciar sesión con Google</button>
<button id="facebook-login" class="social-login facebook">Iniciar sesión con Facebook</button>

<script type="module">
import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js';
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signInWithPopup, GoogleAuthProvider, FacebookAuthProvider } from 'https://www.gstatic.com/firebasejs/9.1.3/firebase-auth.js';

const firebaseConfig = {
apiKey: "AIzaSyBfGBf5Zmp1hEZHT9aKIhTRcXjULD-jbGw",
authDomain: "mi-web-5402c.firebaseapp.com",
databaseURL: "https://mi-web-5402c-default-rtdb.europe-west1.firebasedatabase.app",
projectId: "mi-web-5402c",
storageBucket: "mi-web-5402c.appspot.com",
messagingSenderId: "31272724190",
appId: "1:31272724190:web:51fcc8750c51abf783844f"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

// Registro de Usuario
document.getElementById('register-form').addEventListener('submit', (e) => {
e.preventDefault();
const email = document.getElementById('register-email').value;
const password = document.getElementById('register-password').value;
createUserWithEmailAndPassword(auth, email, password)
.then((userCredential) => {
console.log('Usuario registrado:', userCredential.user);
window.location.href = 'emotions.html'; // Redirigir a la página de emociones
})
.catch((error) => {
console.error('Error en el registro:', error);
});
});

// Login de Usuario
document.getElementById('login-form').addEventListener('submit', (e) => {
e.preventDefault();
const email = document.getElementById('login-email').value;
const password = document.getElementById('login-password').value;
signInWithEmailAndPassword(auth, email, password)
.then((userCredential) => {
console.log('Usuario autenticado:', userCredential.user);
window.location.href = 'emotions.html'; // Redirigir a la página de emociones
})
.catch((error) => {
console.error('Error en el login:', error);
});
});

// Login con Google
document.getElementById('google-login').addEventListener('click', () => {
const provider = new GoogleAuthProvider();
signInWithPopup(auth, provider)
.then((result) => {
console.log('Usuario autenticado con Google:', result.user);
window.location.href = 'emotions.html'; // Redirigir a la página de emociones
})
.catch((error) => {
console.error('Error en el login con Google:', error);
});
});

// Login con Facebook
document.getElementById('facebook-login').addEventListener('click', () => {
const provider = new FacebookAuthProvider();
signInWithPopup(auth, provider)
.then((result) => {
console.log('Usuario autenticado con Facebook:', result.user);
window.location.href = 'emotions.html'; // Redirigir a la página de emociones
})
.catch((error) => {
console.error('Error en el login con Facebook:', error);
});
});
</script>
</body>
</html>
